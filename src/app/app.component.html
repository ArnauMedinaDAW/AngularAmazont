<div [ngClass]="{'dark': oscuro}" class="app-container">
  <header>
    <div class="header-left">
      <img [src]="'logo_amazont.png'" alt="Amazont Logo" class="logo" >
      <button class="settings-btn img" [routerLink]="['/perfil']">
        <i class="fas fa-user"></i>
      </button>
      <!-- Admin icon - only visible for admin users -->
      <button *ngIf="usuariActual && usuariActual.rol === 'admin'" class="admin-btn img" [routerLink]="['/admin-productes']">
        <i class="fas fa-cog"></i>
      </button>
    </div>
    <span *ngIf="usuariActual?.nick">Hola, {{ usuariActual?.nick }}</span>
    
    <h1 class="header-title">
      <span class="title-highlight">AMAZONT</span>
      <span class="title-tagline">Tu tienda de confianza</span>
    </h1>

    <div class="header-right margin">
      <button class="cart-btn img" [routerLink]="['/menu/carrito']">
        <i class="fas fa-shopping-cart"></i>
        <span *ngIf="cartCount > 0" class="cart-badge">{{ cartCount }}</span>
      </button>
      <div class="theme-switch ms-3" id="themeSwitch" [class.active]="oscuro" (click)="canviarTema()">
        <i class="bi" [ngClass]="oscuro ? 'bi-moon-fill' : 'bi-sun-fill'"></i>
        <div class="switch">
          <div class="slider"></div>
        </div>
      </div>
    </div>
  </header>
  <router-outlet (activate)="onActivate($event)"></router-outlet>
</div>

