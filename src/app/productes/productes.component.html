<main [ngClass]="{'dark': oscuro}">
    
  @if(!isFromCategories){

    <div class="container mt-4">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="input-group">
            <input #searchInput type="text" class="form-control" placeholder="Buscar productos tecnológicos...">
            <button class="btn btn-primary" (click)="buscarProducte(searchInput.value)">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="slider-container">
      <button 
        class="slider-btn prev"
        (click)="anteriorSlide()"
      >
        <i class="fas fa-chevron-left"></i>
      </button>
    
      <div class="row">
        @for(product of grupProductes; track product.id){

          <div class="product-card" (click)="verDetalles(product)">
            <img [src]="product.img" [alt]="product.name" class="product-image">
            <div class="product-info">
              <h3>{{ product.name }}</h3>
              <div class="price-container">
                <span class="price">{{ product.price }}</span>
                <span class="discount">
                  {{ product.rate }}/10
                </span>
              </div>
            </div>
          </div> 
        }
      </div>
    
      <button 
        class="slider-btn next" 
        (click)="seguentSlide()"
      >
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  }@else{

    <div class="product-detail container mt-4">
      <div class="row">
        <div class="col-md-4 text-center">
          <img [src]="product.img" [alt]="product.name" class="img-fluid rounded shadow">
        </div>
    
        <div class="col-md-8">
          <h2>{{ product.name }}</h2>
          <span class="price fs-4 text-primary fw-bold">{{ product.price }}€</span>
          <p class="mt-3">{{ product.description }}</p>
          <span class="rating fw-semibold mr-5">⭐ Valoración: {{ product.rate }}/10</span>
          <hr>
          <button class="btn btn-success">
            <i class="fas fa-cart-plus"></i> Añadir al carrito
          </button>
        </div>
      </div>
    
      <div class="mt-5">
        <h4>Comentarios</h4>
        <div class="list-group">

          @for(comment of comments; track comment){
            <div class="list-group-item">
              <div class="d-flex align-items-center">
                <i class="fas fa-user-circle fa-2x me-2 text-secondary"></i>
                <h6 class="mb-0">{{ comment.user }}</h6>
              </div>
              <p class="mb-1">{{ comment.text }}</p>
              <small class="text-muted">Valoración: ⭐ {{ comment.rating }}/5</small>
            </div>
          }

          
        </div>
      </div>
    </div>
  }


</main>
